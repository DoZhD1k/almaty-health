# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–∞–ª–∫–∞ –æ —Ñ–æ—Ä–º—É–ª–µ –ì–∞–≤–µ—Ä—Å–∏–Ω—É—Å–æ–≤

## –û–ø–∏—Å–∞–Ω–∏–µ

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –ø—Ä–∏–Ω—Ü–∏–ø–∞ —Ä–∞–±–æ—Ç—ã —Ñ–æ—Ä–º—É–ª—ã –ì–∞–≤–µ—Ä—Å–∏–Ω—É—Å–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π –º–µ–∂–¥—É –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏.

## üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ

**–°—Ç—Ä–∞–Ω–∏—Ü–∞:** –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ ‚Üí –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å (—Å–∏–Ω—è—è) ‚Üí –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ"

## üéØ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

### 1. **–ó–∞–≥–æ–ª–æ–≤–æ–∫**

- üìê –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º—É–ª—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è

### 2. **–ü–æ—á–µ–º—É —ç—Ç–∞ —Ñ–æ—Ä–º—É–ª–∞?** (–°–∏–Ω—è—è —Å–µ–∫—Ü–∏—è)

- ‚úÖ –£—á–µ—Ç –∫—Ä–∏–≤–∏–∑–Ω—ã –ó–µ–º–ª–∏
- ‚úÖ –í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å (< 0.5% –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å)
- ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –≥–æ—Ä–æ–¥—Å–∫–∏—Ö —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π

### 3. **–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º—É–ª–∞**

–í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª—ã:

```
a = sin¬≤(ŒîœÜ/2) + cos(œÜ‚ÇÅ) √ó cos(œÜ‚ÇÇ) √ó sin¬≤(ŒîŒª/2)
c = 2 √ó atan2(‚àöa, ‚àö(1-a))
d = R √ó c
```

–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å –±–µ–π–¥–∂–∞–º–∏:

- **œÜ** ‚Äî —à–∏—Ä–æ—Ç–∞ (latitude)
- **Œª** ‚Äî –¥–æ–ª–≥–æ—Ç–∞ (longitude)
- **R** ‚Äî —Ä–∞–¥–∏—É—Å –ó–µ–º–ª–∏ (6371 –∫–º)
- **ŒîœÜ** ‚Äî —Ä–∞–∑–Ω–∏—Ü–∞ —à–∏—Ä–æ—Ç
- **ŒîŒª** ‚Äî —Ä–∞–∑–Ω–∏—Ü–∞ –¥–æ–ª–≥–æ—Ç
- **d** ‚Äî –∏—Ç–æ–≥–æ–≤–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ

### 4. **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–∞—Å—á—ë—Ç?**

–ü–æ—à–∞–≥–æ–≤–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞:

1. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (–≥—Ä–∞–¥—É—Å—ã ‚Üí —Ä–∞–¥–∏–∞–Ω—ã)
2. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–∞–∑–Ω–∏—Ü—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏–∏
4. –†–∞—Å—á—ë—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —É–≥–ª–∞
5. –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ

### 5. **–ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á—ë—Ç–∞** (–ó–µ–ª—ë–Ω–∞—è —Å–µ–∫—Ü–∏—è)

–†–µ–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –¥–≤—É—Ö –ú–û –≤ –ê–ª–º–∞—Ç—ã:

- –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)
- –ü–æ—à–∞–≥–æ–≤—ã–π —Ä–∞—Å—á—ë—Ç —Å —á–∏—Å–ª–∞–º–∏
- –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: **~7.2 –∫–º**

### 6. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**

- ‚è±Ô∏è –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á—ë—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø—É—Ç–∏
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ (40 –∫–º/—á)

### 7. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** (–û—Ä–∞–Ω–∂–µ–≤–∞—è —Å–µ–∫—Ü–∏—è)

- –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ "–ø–æ –ø—Ä—è–º–æ–π" –±–µ–∑ —É—á—ë—Ç–∞ –¥–æ—Ä–æ–≥
- –ü—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –¥–ª—è —Ç–æ—á–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤

## üé® –î–∏–∑–∞–π–Ω

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:

- **–°–∏–Ω–∏–π** ‚Äî –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ñ–æ—Ä–º—É–ª—ã
- **–ë–µ–ª—ã–π/–°–µ—Ä—ã–π** ‚Äî —Ñ–æ—Ä–º—É–ª–∞ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
- **–ó–µ–ª—ë–Ω—ã–π** ‚Äî –ø—Ä–∏–º–µ—Ä —Ä–∞—Å—á—ë—Ç–∞
- **–û—Ä–∞–Ω–∂–µ–≤—ã–π** ‚Äî –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –≠–ª–µ–º–µ–Ω—Ç—ã UI:

- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å —Ä–∞–º–∫–∞–º–∏ –∏ —Ñ–æ–Ω–∞–º–∏
- –ë–µ–π–¥–∂–∏ –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª
- –ò–∫–æ–Ω–∫–∏ (CheckCircle, AlertCircle)
- –ú–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç –¥–ª—è —Ñ–æ—Ä–º—É–ª

## üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏:

1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"
2. –ù–∞–π—Ç–∏ —Å–∏–Ω—é—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—É—é –ø–∞–Ω–µ–ª—å –≤–≤–µ—Ä—Ö—É
3. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É **"–ü–æ–¥—Ä–æ–±–Ω–µ–µ"** —Å –∏–∫–æ–Ω–∫–æ–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞

### –ó–∞–∫—Ä—ã—Ç–∏–µ:

- –ù–∞–∂–∞—Ç—å ‚úï –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
- –ù–∞–∂–∞—Ç—å –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- –ù–∞–∂–∞—Ç—å ESC –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ

## üìÅ –§–∞–π–ª—ã

**–ù–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**

```
components/recommendations/formula-info-dialog.tsx
```

**–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**

```
components/recommendations/redirection-recommendations.tsx
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Props –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

```typescript
interface FormulaInfoDialogProps {
  open: boolean; // –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏—è
  onOpenChange: (open: boolean) => void; // –ö–æ–ª–±—ç–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è
}
```

### State –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:

```typescript
const [isFormulaDialogOpen, setIsFormulaDialogOpen] = useState(false);
```

### –†–∞–∑–º–µ—Ä—ã:

- –®–∏—Ä–∏–Ω–∞: `max-w-3xl` (–º–∞–∫—Å–∏–º—É–º 768px)
- –í—ã—Å–æ—Ç–∞: `max-h-[85vh]` (–º–∞–∫—Å–∏–º—É–º 85% –≤—ã—Å–æ—Ç—ã —ç–∫—Ä–∞–Ω–∞)
- –ü—Ä–æ–∫—Ä—É—Ç–∫–∞: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

```
Dialog
‚îú‚îÄ‚îÄ DialogHeader
‚îÇ   ‚îú‚îÄ‚îÄ Title: "üìê –§–æ—Ä–º—É–ª–∞ –ì–∞–≤–µ—Ä—Å–∏–Ω—É—Å–æ–≤"
‚îÇ   ‚îî‚îÄ‚îÄ Description
‚îú‚îÄ‚îÄ Content (space-y-6)
‚îÇ   ‚îú‚îÄ‚îÄ Card: –ü–æ—á–µ–º—É —ç—Ç–∞ —Ñ–æ—Ä–º—É–ª–∞? (blue)
‚îÇ   ‚îú‚îÄ‚îÄ Card: –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º—É–ª–∞
‚îÇ   ‚îú‚îÄ‚îÄ Card: –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–∞—Å—á—ë—Ç?
‚îÇ   ‚îú‚îÄ‚îÄ Card: –ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á—ë—Ç–∞ (green)
‚îÇ   ‚îú‚îÄ‚îÄ Card: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ Card: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (orange)
```

## üéì –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å

–ú–æ–¥–∞–ª–∫–∞ —Å–ª—É–∂–∏—Ç:

1. **–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º** ‚Äî –æ–±—ä—è—Å–Ω—è–µ—Ç —Å–ª–æ–∂–Ω—É—é –º–∞—Ç–µ–º–∞—Ç–∏–∫—É –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º
2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π** ‚Äî —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—é —Ä–∞—Å—á—ë—Ç–æ–≤
3. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é** ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞
4. **–î–æ–≤–µ—Ä–∏–µ–º** ‚Äî –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–∞—É—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞—Å—á—ë—Ç–∞–º

## üöÄ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–ª—è –≤–≤–æ–¥–∞ —Å–≤–æ–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- [ ] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º—É–ª—ã –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ
- [ ] –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ (–ü–∏—Ñ–∞–≥–æ—Ä, –í–∏–Ω—Å–µ–Ω—Ç–∏)
- [ ] –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞—Å—á—ë—Ç–∞ –ø–æ —à–∞–≥–∞–º
- [ ] –≠–∫—Å–ø–æ—Ä—Ç —Ñ–æ—Ä–º—É–ª—ã –≤ PDF

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –§–æ—Ä–º—É–ª–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –≤ –ø–æ–Ω—è—Ç–Ω–æ–º –≤–∏–¥–µ –±–µ–∑ –∏–∑–ª–∏—à–Ω–∏—Ö –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —ç–º–æ–¥–∑–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∞–∫—Ü–µ–Ω—Ç–∞
- –í—Å–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã –∏–º–µ—é—Ç —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É
- –ü—Ä–∏–º–µ—Ä —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –ê–ª–º–∞—Ç—ã –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏
